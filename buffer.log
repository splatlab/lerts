make: 'main' is up to date.
make: 'streamdump' is up to date.
gcc -I./ -Wall -O3 -std=gnu99 -I ../../include    -c -o active.o active.c
gcc -I./ -Wall -O3 -std=gnu99 -I ../../include  active.o -o active -lm 
/home/robj/popcorning-count
Generating 536870912 observation from Firehose active (packets: 10737418, active set: 1048576) and dumping into file raw/streamdump_mmap_active_new_536870912
malloced array of size: 4294967296
building active set ...
starting generator ...
unique keys generated = 362256318
  true anomalies  = 4083
  false positives = 827
  false negatives = 61
  true negatives = 1072633
packets emitted = 10737418
datums emitted = 536870900
elapsed time (secs) = 1073.74
generation rate (datums/sec) = 500000
Received stream with 536865500 observations and some garbage 269588669
Num observations: 29
Memory CQF: 23
./main popcornfilter -f 8 -q 20 -l 4 -g 4 -t 8 -o -v 24 -b 0 -i raw/streamdump_mmap_active_new_536870912 -d raw/Stretch-8-20-4-4-0-0-ct.data
Creating a count-stretch filter.
Reading input stream and logs from disk
Analyzing Stream
Dumped 536865500 keys in raw/streamdump_mmap_active_new_536870912
Clearing the multimap.
Number of keys: 362252715
Number of keys above threshold: 1077596
Total observations: 536865500
Inserting elements.
Total number of buffer dumps: 0
Total number of buffer dumps: 0
Total number of buffer dumps: 0
Total number of buffer dumps: 0
Total number of buffer dumps: 0
Total number of buffer dumps: 0
Total number of buffer dumps: 0
Total number of buffer dumps: 0
Total Time Elapsed: 657.773560seconds
Finished insertions.
Insertion throughput: 816186
Querying elements.
Total Time Elapsed: 403.676361seconds
Finished lookups.
Performing validation
Total flushes: 85
Failed to report 19 keys on time.
Validation failed!
Total number of keys above threshold: 1066813
cascadefilter 0
Number of keys above the THRESHOLD value 133777
Number of keys reported through shuffle-merges 133777
Number of keys reported through odp 0
Total memory time (secs): -2.08464e+07
Total flush time (secs): 69.3472
cascadefilter 1
Number of keys above the THRESHOLD value 133446
Number of keys reported through shuffle-merges 133446
Number of keys reported through odp 0
Total memory time (secs): -4.42618e+06
Total flush time (secs): 69.9193
cascadefilter 2
Number of keys above the THRESHOLD value 132714
Number of keys reported through shuffle-merges 132714
Number of keys reported through odp 0
Total memory time (secs): -1.92334e+07
Total flush time (secs): 69.4401
cascadefilter 3
Number of keys above the THRESHOLD value 133366
Number of keys reported through shuffle-merges 133366
Number of keys reported through odp 0
Total memory time (secs): -1.83535e+07
Total flush time (secs): 69.9036
cascadefilter 4
Number of keys above the THRESHOLD value 134359
Number of keys reported through shuffle-merges 134359
Number of keys reported through odp 0
Total memory time (secs): -1.91601e+07
Total flush time (secs): 70.3491
cascadefilter 5
Number of keys above the THRESHOLD value 133194
Number of keys reported through shuffle-merges 133194
Number of keys reported through odp 0
Total memory time (secs): -1.93516e+07
Total flush time (secs): 69.7244
cascadefilter 6
Number of keys above the THRESHOLD value 132944
Number of keys reported through shuffle-merges 132944
Number of keys reported through odp 0
Total memory time (secs): -1.94304e+07
Total flush time (secs): 68.8299
cascadefilter 7
Number of keys above the THRESHOLD value 133013
Number of keys reported through shuffle-merges 133013
Number of keys reported through odp 0
Total memory time (secs): -7.63871e+06
Total flush time (secs): 68.9654
Total observations inserted: 536865500
Count stretch with cones and threads finished! Output in: raw/pf-ct-no-buffer-536870912
./main popcornfilter -f 8 -q 20 -l 4 -g 4 -t 8 -o -v 24 -b 3 -i raw/streamdump_mmap_active_new_536870912 -d raw/Stretch-8-20-4-4-0-0-ct.data
Creating a count-stretch filter.
Reading input stream and logs from disk
Analyzing Stream
Clearing the multimap.
Number of keys: 362252716
Number of keys above threshold: 1077596
Total observations: 536865500
Inserting elements.
Total number of buffer dumps: 18
Total number of buffer dumps: 18
Total number of buffer dumps: 24
Total number of buffer dumps: 17
Total number of buffer dumps: 22
Total number of buffer dumps: 18
Total number of buffer dumps: 21
Total number of buffer dumps: 17
Total Time Elapsed: 576.340942seconds
Finished insertions.
Insertion throughput: 931507
Querying elements.
Total Time Elapsed: 403.606812seconds
Finished lookups.
Performing validation
Total flushes: 85
Failed to report 10 keys on time.
Validation failed!
Total number of keys above threshold: 1066202
cascadefilter 0
Number of keys above the THRESHOLD value 133703
Number of keys reported through shuffle-merges 133703
Number of keys reported through odp 0
Total memory time (secs): -2.1131e+07
Total flush time (secs): 70.0064
cascadefilter 1
Number of keys above the THRESHOLD value 133309
Number of keys reported through shuffle-merges 133309
Number of keys reported through odp 0
Total memory time (secs): -4.49739e+06
Total flush time (secs): 70.54
cascadefilter 2
Number of keys above the THRESHOLD value 132656
Number of keys reported through shuffle-merges 132656
Number of keys reported through odp 0
Total memory time (secs): -1.79549e+07
Total flush time (secs): 70.0728
cascadefilter 3
Number of keys above the THRESHOLD value 133299
Number of keys reported through shuffle-merges 133299
Number of keys reported through odp 0
Total memory time (secs): -1.79244e+07
Total flush time (secs): 69.9131
cascadefilter 4
Number of keys above the THRESHOLD value 134273
Number of keys reported through shuffle-merges 134273
Number of keys reported through odp 0
Total memory time (secs): -1.94033e+07
Total flush time (secs): 69.8018
cascadefilter 5
Number of keys above the THRESHOLD value 133127
Number of keys reported through shuffle-merges 133127
Number of keys reported through odp 0
Total memory time (secs): -1.91366e+07
Total flush time (secs): 70.4744
cascadefilter 6
Number of keys above the THRESHOLD value 132890
Number of keys reported through shuffle-merges 132890
Number of keys reported through odp 0
Total memory time (secs): -1.77464e+07
Total flush time (secs): 70.1085
cascadefilter 7
Number of keys above the THRESHOLD value 132945
Number of keys reported through shuffle-merges 132945
Number of keys reported through odp 0
Total memory time (secs): -7.74324e+06
Total flush time (secs): 69.8713
Total observations inserted: 536865500
Count stretch with cones and threads finished! Output in: raw/pf-ct-buffer-count-536870912
./main popcornfilter -f 8 -q 20 -l 4 -g 4 -t 8 -o -v 24 -i raw/streamdump_mmap_active_new_536870912 -d raw/Stretch-8-20-4-4-0-0-ct.data
Creating a count-stretch filter.
Reading input stream and logs from disk
Analyzing Stream
Clearing the multimap.
Number of keys: 362252716
Number of keys above threshold: 1077596
Total observations: 536865500
Inserting elements.
Total number of buffer dumps: 65
Total number of buffer dumps: 65
Total number of buffer dumps: 74
Total number of buffer dumps: 63
Total number of buffer dumps: 66
Total number of buffer dumps: 70
Total number of buffer dumps: 63
Total number of buffer dumps: 66
Total Time Elapsed: 241.379105seconds
Finished insertions.
Insertion throughput: 2.22416e+06
Querying elements.
Total Time Elapsed: 393.003998seconds
Finished lookups.
Performing validation
Total flushes: 85
Failed to report 50 keys on time.
Validation failed!
Total number of keys above threshold: 1066604
cascadefilter 0
Number of keys above the THRESHOLD value 133756
Number of keys reported through shuffle-merges 133756
Number of keys reported through odp 0
Total memory time (secs): -4.4764e+06
Total flush time (secs): 75.7991
cascadefilter 1
Number of keys above the THRESHOLD value 133418
Number of keys reported through shuffle-merges 133418
Number of keys reported through odp 0
Total memory time (secs): -6.68061e+06
Total flush time (secs): 77.7429
cascadefilter 2
Number of keys above the THRESHOLD value 132682
Number of keys reported through shuffle-merges 132682
Number of keys reported through odp 0
Total memory time (secs): -5.54762e+06
Total flush time (secs): 76.018
cascadefilter 3
Number of keys above the THRESHOLD value 133340
Number of keys reported through shuffle-merges 133340
Number of keys reported through odp 0
Total memory time (secs): -1.78031e+07
Total flush time (secs): 77.7355
cascadefilter 4
Number of keys above the THRESHOLD value 134335
Number of keys reported through shuffle-merges 134335
Number of keys reported through odp 0
Total memory time (secs): -8.35376e+06
Total flush time (secs): 74.0876
cascadefilter 5
Number of keys above the THRESHOLD value 133166
Number of keys reported through shuffle-merges 133166
Number of keys reported through odp 0
Total memory time (secs): -1.8515e+07
Total flush time (secs): 78.4474
cascadefilter 6
Number of keys above the THRESHOLD value 132928
Number of keys reported through shuffle-merges 132928
Number of keys reported through odp 0
Total memory time (secs): -4.54205e+06
Total flush time (secs): 70.4692
cascadefilter 7
Number of keys above the THRESHOLD value 132979
Number of keys reported through shuffle-merges 132979
Number of keys reported through odp 0
Total memory time (secs): -1.41581e+07
Total flush time (secs): 77.5163
Total observations inserted: 536865500
Count stretch with cones and threads finished! Output in: raw/pf-ct-buffer-536870912
